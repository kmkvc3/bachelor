(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{8499:function(e,n,t){"use strict";t.d(n,{Fs:function(){return u},xv:function(){return l},a:function(){return d},d_:function(){return h},zq:function(){return f},hp:function(){return m},zI:function(){return v},dE:function(){return p},V$:function(){return j},Sh:function(){return x},bc:function(){return _},H2:function(){return k},VQ:function(){return g},IR:function(){return N},DH:function(){return b},r7:function(){return y},Q:function(){return c},rv:function(){return o},v3:function(){return r},oh:function(){return i},rq:function(){return a}});var s="http://afproject.org:8002",c=function(e,n,t,c,o,r,i){var a={};return n&&n.length&&Object.assign(a,{evidence:n}),c&&c.length&&Object.assign(a,{genome_type:c}),t&&t.length&&Object.assign(a,{assembly_level:t}),o&&Object.assign(a,{sort:o}),Object.assign(a,{taxon_id:e}),new Promise((function(e,n){fetch("".concat(s,"/api/search/interactions/?page=").concat(r,"&page_size=").concat(i),{method:"POST",body:JSON.stringify(a)}).then((function(n){setTimeout((function(){e(n.json())}),0)}))}))},o=function(e,n){return fetch("".concat(s,"/api/search/hints/").concat(n,"?query=").concat(e),{method:"GET"}).then((function(e){return e.json()}))},r=function(){return fetch("".concat(s,"/api/db/info/"),{method:"GET"}).then((function(e){return e.json()}))},i=function(e){return new Promise((function(n,t){fetch("".concat(s,"/api/taxonomy/host/?host_id=").concat(e),{method:"GET"}).then((function(e){setTimeout((function(){n(e.json())}),180)}))}))},a=function(){return fetch("".concat(s,"/api/stats/basic/"),{method:"GET"}).then((function(e){return e.json()}))},u=function(){return fetch("".concat(s,"/api/stats/taxonomy/virus/"),{method:"GET"}).then((function(e){return e.json()}))},l=function(){return fetch("".concat(s,"/api/stats/taxonomy/virus/ictv"),{method:"GET"}).then((function(e){return e.json()}))},d=function(e,n){return fetch("".concat(s,"/api/stats/taxonomy/top/virus/?rank=").concat(e,"&limit=").concat(n),{method:"GET"}).then((function(e){return e.json()}))},h=function(){return fetch("".concat(s,"/api/stats/virus/genome/type/"),{method:"GET"}).then((function(e){return e.json()}))},f=function(){return fetch("".concat(s,"/api/stats/virus/genome/assembly_level/"),{method:"GET"}).then((function(e){return e.json()}))},m=function(e){return fetch("".concat(s,"/api/stats/virus/genome/size/histogram/?database=").concat(e),{method:"GET"}).then((function(e){return e.json()}))},v=function(e){return fetch("".concat(s,"/api/stats/virus/genome/source/?representative_only=").concat(e),{method:"GET"}).then((function(e){return e.json()}))},p=function(e){return fetch("".concat(s,"/api/stats/taxonomy/top/interactions/?rank=").concat(e),{method:"GET"}).then((function(e){return e.json()}))},j=function(e,n){return fetch("".concat(s,"/api/stats/taxonomy/top/host/?rank=").concat(e,"&limit=").concat(n),{method:"GET"}).then((function(e){return e.json()}))},x=function(){return fetch("".concat(s,"/api/stats/interaction/hosts/"),{method:"GET"}).then((function(e){return e.json()}))},_=function(){return fetch("".concat(s,"/api/stats/interaction/evidence/ "),{method:"GET"}).then((function(e){return e.json()}))},k=function(){return fetch("".concat(s,"/api/stats/basic/ "),{method:"GET"}).then((function(e){return e.json()}))},g=function(e){return fetch("".concat(s,"/api/stats/virus/genome/size/summary/?database=").concat(e," "),{method:"GET"}).then((function(e){return e.json()}))},N=function(){return fetch("".concat(s,"/api/stats/taxonomy/host/bacteria/"),{method:"GET"}).then((function(e){return e.json()}))},b=function(){return fetch("".concat(s,"/api/stats/taxonomy/host/archaea/"),{method:"GET"}).then((function(e){return e.json()}))},y=function(e){return fetch("".concat(s,"/api/stats/virus/genome/size/top/?reverse=").concat(e),{method:"GET"}).then((function(e){return e.json()}))}},4338:function(e,n,t){"use strict";var s=t(5671),c=t(3144),o=t(4942),r=new(function(){function e(){(0,s.Z)(this,e),(0,o.Z)(this,"eventHandlers",{})}return(0,c.Z)(e,[{key:"on",value:function(e,n){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(n)}},{key:"emit",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.eventHandlers[e]&&this.eventHandlers[e].forEach((function(e){e(n)}))}},{key:"remove",value:function(e){this.eventHandlers[e]&&(this.eventHandlers[e]=[])}}]),e}());n.Z=r},9113:function(e,n,t){"use strict";var s=t(5671),c=t(3144),o=t(4942),r=new(function(){function e(){(0,s.Z)(this,e),(0,o.Z)(this,"accessions",[])}return(0,c.Z)(e,[{key:"saveAccessions",value:function(){localStorage.setItem("accessions",JSON.stringify(this.accessions))}},{key:"setAccessions",value:function(){var e=JSON.parse(localStorage.getItem("accessions"));this.accessions=e||[]}},{key:"getAccessions",value:function(){return this.accessions}},{key:"getBookmark",value:function(e){return this.accessions.find((function(n){return n.virus_id===e}))}},{key:"setBookmark",value:function(e){this.accessions.push(e),this.saveAccessions()}},{key:"removeBookmark",value:function(e){this.accessions=this.accessions.filter((function(n){return n.virus_id!==e})),this.saveAccessions()}}]),e}());n.Z=r},972:function(e,n,t){"use strict";t.d(n,{Z:function(){return M}});var s=t(1664),c=t(2225),o=t.n(c),r=t(1163),i=t(7294),a=t(9369),u=t(5400),l=t.n(u),d=t(9398),h=t(7625),f=t(5893);function m(){var e=(0,i.useContext)(a.N),n=e.state.darkMode;(0,i.useEffect)((function(){"light"===localStorage.getItem("theme")?(e.dispatch({type:"light"}),document.body.classList.remove("dark")):(e.dispatch({type:"dark"}),document.body.classList.add("dark"))}),[]);return(0,f.jsxs)("button",{className:n?l().wrapper:"".concat(l().wrapper," ").concat(l().active),onClick:function(){n?(e.dispatch({type:"light"}),document.body.classList.remove("dark"),localStorage.setItem("theme","light")):(e.dispatch({type:"dark"}),document.body.classList.add("dark"),localStorage.setItem("theme","dark"))},children:[(0,f.jsx)(h.G,{icon:d.enB}),(0,f.jsx)(h.G,{icon:d.DBF}),(0,f.jsx)("div",{className:n?l().circle:"".concat(l().circle," ").concat(l().active)})]})}var v=t(8385),p=t.n(v),j=t(585),x=t(9113),_=t(4125),k=t.n(_),g=t(4338),N=t(6034),b=t.n(N);function y(e){e.setClose,(0,r.useRouter)();return(0,f.jsxs)("div",{className:b().wrapper,children:[(0,f.jsx)("div",{className:b().desc,children:"Currently you have no bookmarks. To create bookmark, follow steps below"}),(0,f.jsx)("div",{className:b().steps,children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:b().step,children:[(0,f.jsx)("div",{className:b().circle,children:"1"}),(0,f.jsx)("div",{children:" Go to search section "})]}),(0,f.jsx)("div",{className:b().line}),(0,f.jsxs)("div",{className:b().step,children:[(0,f.jsx)("div",{className:b().circle,children:"2"}),(0,f.jsx)("div",{children:"Type in searchbar"})]}),(0,f.jsx)("div",{className:b().line}),(0,f.jsxs)("div",{className:b().step,children:[(0,f.jsx)("div",{className:b().circle,children:"3"}),(0,f.jsx)("div",{children:"Click the desired result from hints"})]}),(0,f.jsx)("div",{className:b().line}),(0,f.jsxs)("div",{className:b().step,children:[(0,f.jsx)("div",{className:b().circle,children:"4"}),(0,f.jsx)("div",{children:"Pick record by clicking in the virus name"})]}),(0,f.jsx)("div",{className:b().line}),(0,f.jsxs)("div",{className:b().step,children:[(0,f.jsx)("div",{className:b().circle,children:"5"}),(0,f.jsx)("div",{children:"Click bookmarks icon"})]})]})})]})}var w=t(2167);function E(e){var n=e.setClose,t=(0,i.useState)([]),s=t[0],c=t[1];function o(){return JSON.parse(localStorage.getItem("accessions"))}return(0,i.useEffect)((function(){var e=o();e&&c(e)}),[]),(0,f.jsx)(f.Fragment,{children:s.length?(0,f.jsxs)("div",{className:k().wrapper,children:[(0,f.jsx)("div",{className:"".concat(k().row," ").concat(k().mainRow),children:(0,f.jsx)("p",{children:"Virus species"})}),s.map((function(e){return(0,f.jsxs)("div",{className:k().row,children:[(0,f.jsx)("p",{children:e.virus}),(0,f.jsx)("div",{className:k().button,onClick:function(){x.Z.removeBookmark(e.virus_id),function(){var e=o();c(e)}(),g.Z.emit("remove-bookmark")},children:(0,f.jsx)(h.G,{icon:d.NBC,className:k().searchIcon})}),(0,f.jsx)("div",{className:k().button,children:(0,f.jsx)(w.default,{href:"/virus/".concat(e.virus_id),children:(0,f.jsx)(h.G,{icon:d.$40,className:k().searchIcon})})})]})}))]}):(0,f.jsx)(y,{setClose:n})})}function T(){var e=(0,i.useState)(!1),n=e[0],t=e[1],s=(0,i.useState)([]),c=s[0],o=s[1];function r(){return JSON.parse(localStorage.getItem("accessions"))}function a(){var e=r();o(e||[])}return(0,i.useEffect)((function(){x.Z.setAccessions();var e=r();o(e||[]),g.Z.on("add-bookmark",a),g.Z.on("remove-bookmark",a)}),[]),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{onClick:function(){t(!0)},className:p().wrapper,children:[(0,f.jsx)(h.G,{icon:d.xVw}),(0,f.jsx)("div",{className:p().count,children:c.length})]}),n?(0,f.jsx)(j.Z,{title:"Bookmarks",opened:n,setClose:t,children:(0,f.jsx)(E,{setClose:t})}):null]})}function G(){var e=(0,r.useRouter)(),n=(0,i.useContext)(a.N).state.darkMode;return(0,f.jsx)("nav",{className:o().navigation,children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("ul",{children:[(0,f.jsx)("li",{className:o().logo,children:(0,f.jsx)(s.default,{href:"/",children:(0,f.jsx)("img",{src:n?"/logo-dark.svg":"/logo-light.svg",alt:""})})}),(0,f.jsx)("li",{className:"/search"==e.pathname?o().active:"",children:(0,f.jsx)(s.default,{href:"/search?type=virus",children:(0,f.jsx)("p",{children:"Search"})})}),(0,f.jsx)("li",{className:e.pathname.includes("/browse")?o().active:"",children:(0,f.jsx)(s.default,{href:"/browse/host/ncbi",children:(0,f.jsx)("p",{children:"Browse"})})}),(0,f.jsx)("li",{className:e.pathname.includes("/report")?o().active:"",children:(0,f.jsx)(s.default,{href:"/report",children:(0,f.jsx)("p",{children:"Daily Report"})})}),(0,f.jsx)("li",{className:e.pathname.includes("/blast")?o().active:"",children:(0,f.jsx)(s.default,{href:"/help",children:(0,f.jsx)("p",{children:"Help"})})})]}),(0,f.jsxs)("div",{className:o().sidebar,children:[(0,f.jsx)(T,{}),(0,f.jsx)(m,{})]})]})})}var B=t(5861),C=t(7757),S=t.n(C),Z=t(7959),I=t.n(Z),H=t(8499);function O(){var e=(0,i.useState)(""),n=e[0],t=e[1],s=(0,i.useState)(""),c=s[0],o=s[1];function r(){return(r=(0,B.Z)(S().mark((function e(){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,H.v3)();case 3:n=e.sent,t(n.date.update_since),o(n.version),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,i.useEffect)((function(){!function(){r.apply(this,arguments)}()})),(0,f.jsxs)("footer",{className:I().footer,children:[(0,f.jsxs)("div",{className:I().combio,children:[(0,f.jsxs)("span",{children:["With ",(0,f.jsx)("img",{src:"heart.svg",alt:""})," from "," ",(0,f.jsx)("a",{target:"_blank",href:"http://www.combio.pl",children:"combio.pl"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"Team"}),(0,f.jsx)("span",{children:"Citations"})]})]}),(0,f.jsxs)("div",{className:I().data,children:[(0,f.jsxs)("span",{children:["Data last updated: ",(0,f.jsx)("strong",{children:n})]}),(0,f.jsxs)("span",{children:["Version: ",(0,f.jsx)("strong",{children:c})]})]})]})}function M(e){var n=e.children;return(0,f.jsxs)("div",{style:{},children:[(0,f.jsx)(G,{}),(0,f.jsx)("div",{style:{minHeight:"90vh",maxWidth:1500,margin:"0 auto"},children:n}),(0,f.jsx)(O,{})]})}},585:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var s=t(1281),c=t.n(s),o=t(9398),r=t(7625),i=t(7294),a=t(5893);function u(e){var n=e.children,t=e.opened,s=e.setClose,u=e.title,l=i.cloneElement(n,{setClose:s});return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)("div",{className:c().wrapper,children:[(0,a.jsxs)("div",{className:c().modal,children:[(0,a.jsxs)("div",{className:c().header,children:[(0,a.jsx)("p",{children:u}),(0,a.jsx)("div",{className:c().close,onClick:function(){return s(!t)},children:(0,a.jsx)(r.G,{icon:o.NBC})})]}),(0,a.jsx)("div",{className:c().content,children:l})]}),(0,a.jsx)("div",{className:c().background})]}):null})}},4125:function(e){e.exports={wrapper:"Bookmarks_wrapper__31I5s",row:"Bookmarks_row__16ABQ",mainRow:"Bookmarks_mainRow__2sfZk",button:"Bookmarks_button__2sacx"}},6034:function(e){e.exports={wrapper:"NoBookmarks_wrapper__3nvld",steps:"NoBookmarks_steps__uPSkX",desc:"NoBookmarks_desc__3En_q",line:"NoBookmarks_line__XsTvi",circle:"NoBookmarks_circle__Iii6V",step:"NoBookmarks_step__2vKmO"}},7959:function(e){e.exports={footer:"Footer_footer__3zUfD",combio:"Footer_combio__3QGmX",data:"Footer_data__3gX58"}},8385:function(e){e.exports={wrapper:"BookmarksIcon_wrapper__vXWuE",count:"BookmarksIcon_count__3s64b"}},2225:function(e){e.exports={navigation:"Navigation_navigation__1Q0LH",logo:"Navigation_logo__2gjDL",active:"Navigation_active__1ber9",sidebar:"Navigation_sidebar__1YXZI"}},5400:function(e){e.exports={wrapper:"ThemeButton_wrapper__k1qaZ",circle:"ThemeButton_circle__1ky-P",active:"ThemeButton_active__33e7Y"}},1281:function(e){e.exports={wrapper:"Modal_wrapper__h6_zd",modal:"Modal_modal__15Pny",modalEntry:"Modal_modalEntry__2HI6P",header:"Modal_header__11PD7",background:"Modal_background__3k2a6",backgroundEntry:"Modal_backgroundEntry__1hkuk",close:"Modal_close__21j6n",content:"Modal_content__2kgKr"}}}]);