(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[373],{5708:function(t,e,o){var r;"undefined"!=typeof self&&self,t.exports=(r=o(7294),function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t}).apply(this,arguments)}function i(t){return l(t)||a(t)||s(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"==typeof t)return p(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(t,e):void 0}}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t){if(Array.isArray(t))return p(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var u=o(1),d=o.n(u),h="undefined"!=typeof window?u.useLayoutEffect:u.useEffect,f=Object(u.forwardRef)((function(t,e){var o=Object(u.useRef)(),n=Object(u.useRef)();return h((function(){function e(){var e=t.highcharts||"object"===("undefined"==typeof window?"undefined":c(window))&&window.Highcharts,r=t.constructorType||"chart";e?e[r]?t.options?n.current=e[r](o.current,t.options,t.callback?t.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(n.current){if(!1!==t.allowChartUpdate)if(!t.immutable&&n.current){var r;(r=n.current).update.apply(r,[t.options].concat(i(t.updateArgs||[!0,!0])))}else e()}else e()})),h((function(){return function(){n.current&&(n.current.destroy(),n.current=null)}}),[]),Object(u.useImperativeHandle)(e,(function(){return{get chart(){return n.current},container:o}}),[]),d.a.createElement("div",r({},t.containerProps,{ref:o}))}));e.default=Object(u.memo)(f)},function(t,e){t.exports=r}]))},7473:function(t,e,o){var r,i,n;n=function(t){function e(t,e,o,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,o),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/ColorMapMixin.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,o){var r=t.noop;t=t.seriesTypes;var i=o.defined;return(o=o.addEvent)(e,"afterSetState",(function(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})})),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:r,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return!i(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e}}}})),e(t,"Series/Treemap/TreemapAlgorithmGroup.js",[],(function(){return function(){function t(t,e,o,r){this.height=t,this.width=e,this.plot=r,this.startDirection=this.direction=o,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(t,e){return Math.max(t/e,e/t)}}}return t.prototype.addElement=function(t){this.lP.total=this.elArr[this.elArr.length-1],this.total+=t,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(t)},t.prototype.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0},t}()})),e(t,"Series/DrawPointComposition.js",[],(function(){var t;return function(t){function e(t){var e=this,o=t.animatableAttribs,r=t.onComplete,i=t.css,n=t.renderer,s=this.series&&this.series.chart.hasRendered?void 0:this.series&&this.series.options.animation,a=this.graphic;if(t.attribs=t.attribs||{},t.attribs.class=this.getClassName(),this.shouldDraw())a||(this.graphic=a="text"===t.shapeType?n.text():n[t.shapeType](t.shapeArgs||{}),a.add(t.group)),i&&a.css(i),a.attr(t.attribs).animate(o,!t.isNew&&s,r);else if(a){var l=function(){e.graphic=a=a&&a.destroy(),"function"===typeof r&&r()};Object.keys(o).length?a.animate(o,void 0,(function(){l()})):l()}}function o(){return!this.isNull}var r=[];t.compose=function(t){if(-1===r.indexOf(t)){r.push(t);var i=t.prototype;i.draw=e,i.shouldDraw||(i.shouldDraw=o)}return t}}(t||(t={})),t})),e(t,"Series/Treemap/TreemapPoint.js",[t["Series/DrawPointComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,o){var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=e.series.prototype.pointClass,n=e.seriesTypes;e=n.pie.prototype.pointClass;var s=o.extend,a=o.isNumber,l=o.pick;return s((o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name=void 0,e.node=void 0,e.options=void 0,e.series=void 0,e.value=void 0,e}return r(e,t),e.prototype.getClassName=function(){var t=i.prototype.getClassName.call(this),e=this.series,o=e.options;return this.node.level<=e.nodeMap[e.rootNode].level?t+=" highcharts-above-level":this.node.isLeaf||l(o.interactByLeaf,!o.allowTraversingTree)?this.node.isLeaf||(t+=" highcharts-internal-node"):t+=" highcharts-internal-node-interactive",t},e.prototype.isValid=function(){return!(!this.id&&!a(this.value))},e.prototype.setState=function(t){i.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})},e.prototype.shouldDraw=function(){return a(this.plotY)&&null!==this.y},e}(n.scatter.prototype.pointClass)).prototype,{setVisible:e.prototype.setVisible}),t.compose(o),o})),e(t,"Series/Treemap/TreemapUtilities.js",[t["Core/Utilities.js"]],(function(t){var e,o=t.objectEach;return function(t){t.AXIS_MAX=100,t.isBoolean=function(t){return"boolean"===typeof t},t.eachObject=function(t,e,r){r=r||this,o(t,(function(o,i){e.call(r,o,i,t)}))},t.recursive=function t(e,o,r){void 0===r&&(r=this),!1!==(e=o.call(r,e))&&t(e,o,r)}}(e||(e={})),e})),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){var o=e.extend,r=e.isArray,i=e.isNumber,n=e.isObject,s=e.merge,a=e.pick;return{getColor:function(e,o){var r,i=o.index,n=o.mapOptionsToLevel,s=o.parentColor,l=o.parentColorIndex,p=o.series,c=o.colors,u=o.siblings,d=p.points,h=p.chart.options.chart;if(e){if(d=d[e.i],e=n[e.level]||{},n=d&&e.colorByPoint)var f=d.index%(c?c.length:h.colorCount),v=c&&c[f];p.chart.styledMode||(c=d&&d.options.color,h=e&&e.color,(r=s)&&(r=(r=e&&e.colorVariation)&&"brightness"===r.key&&i&&u?t.parse(s).brighten(i/u*r.to).get():s),r=a(c,h,v,r,p.color));var y=a(d&&d.options.colorIndex,e&&e.colorIndex,f,l,o.colorIndex)}return{color:r,colorIndex:y}},getLevelOptions:function(t){var e=null;if(n(t)){e={};var o=i(t.from)?t.from:1,l=t.levels,p={},c=n(t.defaults)?t.defaults:{};for(r(l)&&(p=l.reduce((function(t,e){if(n(e)&&i(e.level)){var r=s({},e),l=a(r.levelIsConstant,c.levelIsConstant);delete r.levelIsConstant,delete r.level,e=e.level+(l?0:o-1),n(t[e])?s(!0,t[e],r):t[e]=r}return t}),{})),l=i(t.to)?t.to:1,t=0;t<=l;t++)e[t]=s({},c,n(p[t])?p[t]:{})}return e},setTreeValues:function t(e,r){var i=r.before,n=r.idRoot,s=r.mapIdToNode[n],l=r.points[e.i],p=l&&l.options||{},c=[],u=0;return e.levelDynamic=e.level-(!1!==r.levelIsConstant?0:s.level),e.name=a(l&&l.name,""),e.visible=n===e.id||!0===r.visible,"function"===typeof i&&(e=i(e,r)),e.children.forEach((function(i,n){var s=o({},r);o(s,{index:n,siblings:e.children.length,visible:e.visible}),i=t(i,s),c.push(i),i.visible&&(u+=i.val)})),i=a(p.value,u),e.visible=0<=i&&(0<u||e.visible),e.children=c,e.childrenTotal=u,e.isLeaf=e.visible&&!u,e.val=i,e},updateRootId:function(t){if(n(t)){var e=n(t.options)?t.options:{};e=a(t.rootNode,e.rootId,""),n(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}})),e(t,"Extensions/Breadcrumbs.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"],t["Core/FormatUtilities.js"]],(function(t,e,o,r,i){var n=i.format;i=r.addEvent;var s=r.objectEach,a=r.extend,l=r.fireEvent,p=r.merge,c=r.pick,u=r.defined,d=r.isString;return a(o.defaultOptions.lang,{mainBreadcrumb:"Main"}),o=function(){function t(e,o){this.group=void 0,this.list=[],this.elementList={},this.isDirty=!0,this.level=0,this.options=void 0,o=p(e.options.drilldown&&e.options.drilldown.drillUpButton,t.defaultBreadcrumbsOptions,e.options.navigation&&e.options.navigation.breadcrumbs,o),this.chart=e,this.options=o||{}}return t.prototype.updateProperties=function(t){this.setList(t),this.setLevel(),this.isDirty=!0},t.prototype.setList=function(t){this.list=t},t.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1},t.prototype.getLevel=function(){return this.level},t.prototype.getButtonText=function(t){var e=this.chart,o=this.options,r=e.options.lang,i=c(o.format,o.showFullPath?"{level.name}":"\u2190 {level.name}");return r=r&&c(r.drillUpText,r.mainBreadcrumb),t=o.formatter&&o.formatter(t)||n(i,{level:t.levelOptions},e)||"",(d(t)&&!t.length||"\u2190 "===t)&&u(r)&&(t=o.showFullPath?r:"\u2190 "+r),t},t.prototype.redraw=function(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1},t.prototype.render=function(){var t=this.chart,e=this.options;!this.group&&e&&(this.group=t.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:e.zIndex}).add()),e.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()},t.prototype.renderFullPathButtons=function(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()},t.prototype.renderSingleButton=function(){var t=this.chart,e=this.list,o=this.options.buttonSpacing;this.destroyListElements();var r=this.group?this.group.getBBox().width:o;e=e[e.length-2],!t.drillUpButton&&0<this.level?t.drillUpButton=this.renderButton(e,r,o):t.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())},t.prototype.alignBreadcrumbsGroup=function(t){if(this.group){var e=this.options,o=e.buttonTheme,r=e.position,i="chart"===e.relativeTo||"spacingBox"===e.relativeTo?void 0:"scrollablePlotBox",n=this.group.getBBox();e=2*(o.padding||0)+e.buttonSpacing,r.width=n.width+e,r.height=n.height+e,r=p(r),t&&(r.x+=t),r.y=c(r.y,this.yOffset,0),this.group.align(r,!0,i)}},t.prototype.renderButton=function(t,e,o){var r=this,i=this.chart,n=r.options,s=p(n.buttonTheme),a=s.states;return delete s.states,e=i.renderer.button(r.getButtonText(t),e,o,(function(e){var o,i=n.events&&n.events.click;i&&(o=i.call(r,e,t)),!1!==o&&(e.newLevel=n.showFullPath?t.level:r.level-1,l(r,"up",e))}),s,a&&a.hover,a&&a.select,a&&a.disabled).addClass("highcharts-breadcrumbs-button").add(r.group),i.styledMode||e.attr(n.style),e},t.prototype.renderSeparator=function(t,e){var o=this.chart,r=this.options.separator;return t=o.renderer.label(r.text,t,e,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group),o.styledMode||t.css(r.style),t},t.prototype.update=function(t){p(!0,this.options,t),this.destroy(),this.isDirty=!0},t.prototype.updateSingleButton=function(){var t=this.chart,e=this.list[this.level-1];t.drillUpButton&&t.drillUpButton.attr({text:this.getButtonText(e)})},t.prototype.destroy=function(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0},t.prototype.destroyListElements=function(t){var e=this.elementList;s(e,(function(o,r){!t&&e[r].updated||((o=e[r]).button&&o.button.destroy(),o.separator&&o.separator.destroy(),delete o.button,delete o.separator,delete e[r])})),t&&(this.elementList={})},t.prototype.destroySingleButton=function(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)},t.prototype.resetElementListState=function(){s(this.elementList,(function(t){t.updated=!1}))},t.prototype.updateListElements=function(){var t,e=function(t,e){return t.getBBox().width+e},o=this,r=o.elementList,i=o.options.buttonSpacing,n=o.list,s=o.group?e(o.group,i):i;n.forEach((function(a,l){if(l=l===n.length-1,r[a.level]){var p=(t=r[a.level]).button;t.separator||l?t.separator&&l&&(t.separator.destroy(),delete t.separator):(s+=i,t.separator=o.renderSeparator(s,i),s+=e(t.separator,i)),r[a.level].updated=!0}else{if(p=o.renderButton(a,s,i),s+=e(p,i),!l){var c=o.renderSeparator(s,i);s+=e(c,i)}r[a.level]={button:p,separator:c,updated:!0}}p&&p.setState(l?2:0)}))},t.defaultBreadcrumbsOptions={buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#335cad"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7},t}(),e.Breadcrumbs||(e.Breadcrumbs=o,i(t,"getMargins",(function(){var t=this.breadcrumbs;if(t&&!t.options.floating&&t.level){var e=t.options,o=e.buttonTheme;o=(o.height||0)+2*(o.padding||0)+e.buttonSpacing,"bottom"===(e=e.position.verticalAlign)?(this.marginBottom=(this.marginBottom||0)+o,t.yOffset=o):"middle"!==e?(this.plotTop+=o,t.yOffset=-o):t.yOffset=void 0}})),i(t,"redraw",(function(){this.breadcrumbs&&this.breadcrumbs.redraw()})),i(t,"destroy",(function(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)})),i(t,"afterShowResetZoom",(function(){if(this.breadcrumbs){var t=this.resetZoomButton&&this.resetZoomButton.getBBox(),e=this.breadcrumbs.options;t&&"right"===e.position.align&&"plotBox"===e.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-t.width-e.buttonSpacing)}})),i(t,"selection",(function(t){!0===t.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}))),o})),e(t,"Series/Treemap/TreemapComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Series/Treemap/TreemapUtilities.js"],t["Core/Utilities.js"]],(function(t,e,o){var r=o.addEvent,i=o.extend,n=!1;r(t.series,"afterBindAxes",(function(){var t=this.xAxis,o=this.yAxis;if(t&&o)if(this.is("treemap")){var r={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:e.AXIS_MAX,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};i(o.options,r),i(t.options,r),n=!0}else n&&(o.setOptions(o.userOptions),t.setOptions(t.userOptions),n=!1)}))})),e(t,"Series/Treemap/TreemapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapMixin.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Treemap/TreemapAlgorithmGroup.js"],t["Series/Treemap/TreemapPoint.js"],t["Series/Treemap/TreemapUtilities.js"],t["Series/TreeUtilities.js"],t["Extensions/Breadcrumbs.js"],t["Core/Utilities.js"]],(function(t,e,o,r,i,n,s,a,l,p,c){var u=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),d=t.parse;t=o.noop;var h=i.series,f=(o=i.seriesTypes).column,v=o.heatmap,y=o.scatter,b=l.getColor,g=l.getLevelOptions,m=l.updateRootId,x=c.addEvent,w=c.correctFloat,T=c.defined,S=c.error,C=c.extend,A=c.fireEvent,j=c.isArray,L=c.isObject,O=c.isString,B=c.merge,P=c.pick,_=c.stableSort;return l=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.axisRatio=void 0,e.data=void 0,e.mapOptionsToLevel=void 0,e.nodeMap=void 0,e.options=void 0,e.points=void 0,e.rootNode=void 0,e.tree=void 0,e.level=void 0,e}return u(o,t),o.prototype.algorithmCalcPoints=function(t,e,o,r){var i,n,s,a,l=o.lW,p=o.lH,c=o.plot,u=0,d=o.elArr.length-1;if(e)l=o.nW,p=o.nH;else var h=o.elArr[o.elArr.length-1];o.elArr.forEach((function(t){(e||u<d)&&(0===o.direction?(i=c.x,n=c.y,a=t/(s=l)):(i=c.x,n=c.y,s=t/(a=p)),r.push({x:i,y:n,width:s,height:w(a)}),0===o.direction?c.y+=a:c.x+=s),u+=1})),o.reset(),0===o.direction?o.width-=l:o.height-=p,c.y=c.parent.y+(c.parent.height-o.height),c.x=c.parent.x+(c.parent.width-o.width),t&&(o.direction=1-o.direction),e||o.addElement(h)},o.prototype.algorithmFill=function(t,e,o){var r,i,n,s,a,l=[],p=e.direction,c=e.x,u=e.y,d=e.width,h=e.height;return o.forEach((function(o){r=o.val/e.val*e.height*e.width,i=c,n=u,0===p?(d-=s=r/(a=h),c+=s):(h-=a=r/(s=d),u+=a),l.push({x:i,y:n,width:s,height:a}),t&&(p=1-p)})),l},o.prototype.algorithmLowAspectRatio=function(t,e,o){var r,i=[],s=this,a={x:e.x,y:e.y,parent:e},l=0,p=o.length-1,c=new n(e.height,e.width,e.direction,a);return o.forEach((function(o){r=o.val/e.val*e.height*e.width,c.addElement(r),c.lP.nR>c.lP.lR&&s.algorithmCalcPoints(t,!1,c,i,a),l===p&&s.algorithmCalcPoints(t,!0,c,i,a),l+=1})),i},o.prototype.alignDataLabel=function(t,e,o){var r=o.style;r&&!T(r.textOverflow)&&e.text&&e.getBBox().width>e.text.textWidth&&e.css({textOverflow:"ellipsis",width:r.width+="px"}),f.prototype.alignDataLabel.apply(this,arguments),t.dataLabel&&t.dataLabel.attr({zIndex:(t.node.zIndex||0)+1})},o.prototype.buildNode=function(t,e,o,r,i){var n,s=this,a=[],l=s.points[e],p=0;return(r[t]||[]).forEach((function(e){n=s.buildNode(s.points[e].id,e,o+1,r,t),p=Math.max(n.height+1,p),a.push(n)})),e={id:t,i:e,children:a,height:p,level:o,parent:i,visible:!1},s.nodeMap[e.id]=e,l&&(l.node=e),e},o.prototype.calculateChildrenAreas=function(t,e){var o,r=this,i=r.options,n=r.mapOptionsToLevel[t.level+1],s=P(r[n&&n.layoutAlgorithm]&&n.layoutAlgorithm,i.layoutAlgorithm),l=i.alternateStartingDirection;t=t.children.filter((function(t){return!t.ignore})),n&&n.layoutStartingDirection&&(e.direction="vertical"===n.layoutStartingDirection?0:1),o=r[s](e,t),t.forEach((function(t,i){i=o[i],t.values=B(i,{val:t.childrenTotal,direction:l?1-e.direction:e.direction}),t.pointValues=B(i,{x:i.x/r.axisRatio,y:a.AXIS_MAX-i.y-i.height,width:i.width/r.axisRatio}),t.children.length&&r.calculateChildrenAreas(t,t.values)}))},o.prototype.createList=function(t){var e=this.chart,o=[];if(e.breadcrumbs){var r=0;o.push({level:r,levelOptions:e.series[0]}),e=t.target.nodeMap[t.newRootId];for(var i=[];e.parent||""===e.parent;)i.push(e),e=t.target.nodeMap[e.parent];i.reverse().forEach((function(t){o.push({level:++r,levelOptions:t})})),1>=o.length&&(o.length=0)}return o},o.prototype.drawDataLabels=function(){var t,e,o=this,r=o.mapOptionsToLevel;o.points.filter((function(t){return t.node.visible})).forEach((function(i){e=r[i.node.level],t={style:{}},i.node.isLeaf||(t.enabled=!1),e&&e.dataLabels&&(t=B(t,e.dataLabels),o._hasPointLabels=!0),i.shapeArgs&&(t.style.width=i.shapeArgs.width,i.dataLabel&&i.dataLabel.css({width:i.shapeArgs.width+"px"})),i.dlOptions=B(t,i.options.dataLabels)})),h.prototype.drawDataLabels.call(this)},o.prototype.drawPoints=function(){var t=this,e=t.chart,o=e.renderer,r=e.styledMode,i=t.options,n=r?{}:i.shadow,s=i.borderRadius,a=e.pointCount<i.animationLimit,l=i.allowTraversingTree;t.points.forEach((function(e){var p=e.node.levelDynamic,c={},u={},d={},h="level-group-"+e.node.level,f=!!e.graphic,v=a&&f,y=e.shapeArgs;e.shouldDraw()&&(e.isInside=!0,s&&(u.r=s),B(!0,v?c:u,f?y:{},r?{}:t.pointAttribs(e,e.selected?"select":void 0)),t.colorAttribs&&r&&C(d,t.colorAttribs(e)),t[h]||(t[h]=o.g(h).attr({zIndex:1e3-(p||0)}).add(t.group),t[h].survive=!0)),e.draw({animatableAttribs:c,attribs:u,css:d,group:t[h],renderer:o,shadow:n,shapeArgs:y,shapeType:"rect"}),l&&e.graphic&&(e.drillId=i.interactByLeaf?t.drillToByLeaf(e):t.drillToByGroup(e))}))},o.prototype.drillToByGroup=function(t){var e=!1;return 1!==t.node.level-this.nodeMap[this.rootNode].level||t.node.isLeaf||(e=t.id),e},o.prototype.drillToByLeaf=function(t){var e=!1;if(t.node.parent!==this.rootNode&&t.node.isLeaf)for(t=t.node;!e;)(t=this.nodeMap[t.parent]).parent===this.rootNode&&(e=t.id);return e},o.prototype.drillToNode=function(t,e){S(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(t,e)},o.prototype.drillUp=function(){var t=this.nodeMap[this.rootNode];t&&O(t.parent)&&this.setRootNode(t.parent,!0,{trigger:"traverseUpButton"})},o.prototype.getExtremes=function(){var t=h.prototype.getExtremes.call(this,this.colorValueData),e=t.dataMax;return this.valueMin=t.dataMin,this.valueMax=e,h.prototype.getExtremes.call(this)},o.prototype.getListOfParents=function(t,e){t=j(t)?t:[];var o=j(e)?e:[];return e=t.reduce((function(t,e,o){return"undefined"===typeof t[e=P(e.parent,"")]&&(t[e]=[]),t[e].push(o),t}),{"":[]}),a.eachObject(e,(function(t,e,r){""!==e&&-1===o.indexOf(e)&&(t.forEach((function(t){r[""].push(t)})),delete r[e])})),e},o.prototype.getTree=function(){var t=this.data.map((function(t){return t.id}));return t=this.getListOfParents(this.data,t),this.nodeMap={},this.buildNode("",-1,0,t)},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.init=function(t,o){var r=this,i=B(o.drillUpButton,o.breadcrumbs);this.colorAttribs=e.SeriesMixin.colorAttribs;var n=x(r,"setOptions",(function(t){t=t.userOptions,T(t.allowDrillToNode)&&!T(t.allowTraversingTree)&&(t.allowTraversingTree=t.allowDrillToNode,delete t.allowDrillToNode),T(t.drillUpButton)&&!T(t.traverseUpButton)&&(t.traverseUpButton=t.drillUpButton,delete t.drillUpButton)}));h.prototype.init.call(r,t,o),delete r.opacity,r.eventsToUnbind.push(n),r.options.allowTraversingTree&&(r.eventsToUnbind.push(x(r,"click",r.onClickDrillToNode)),r.eventsToUnbind.push(x(r,"setRootNode",(function(t){var e=r.chart;e.breadcrumbs&&e.breadcrumbs.updateProperties(r.createList(t))}))),r.eventsToUnbind.push(x(r,"update",(function(t,e){(e=this.chart.breadcrumbs)&&t.options.breadcrumbs&&e.update(t.options.breadcrumbs)}))),r.eventsToUnbind.push(x(r,"destroy",(function(t){var e=this.chart;e.breadcrumbs&&(e.breadcrumbs.destroy(),t.keepEventsForUpdate||(e.breadcrumbs=void 0))})))),t.breadcrumbs||(t.breadcrumbs=new p(t,i)),r.eventsToUnbind.push(x(t.breadcrumbs,"up",(function(t){t=this.level-t.newLevel;for(var e=0;e<t;e++)r.drillUp()})))},o.prototype.onClickDrillToNode=function(t){var e=(t=t.point)&&t.drillId;O(e)&&(t.setState(""),this.setRootNode(e,!0,{trigger:"click"}))},o.prototype.pointAttribs=function(t,e){var o=L(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},r=t&&o[t.node.level]||{};o=this.options;var i=e&&o.states[e]||{},n=t&&t.getClassName()||"";return t={stroke:t&&t.borderColor||r.borderColor||i.borderColor||o.borderColor,"stroke-width":P(t&&t.borderWidth,r.borderWidth,i.borderWidth,o.borderWidth),dashstyle:t&&t.borderDashStyle||r.borderDashStyle||i.borderDashStyle||o.borderDashStyle,fill:t&&t.color||this.color},-1!==n.indexOf("highcharts-above-level")?(t.fill="none",t["stroke-width"]=0):-1!==n.indexOf("highcharts-internal-node-interactive")?(e=P(i.opacity,o.opacity),t.fill=d(t.fill).setOpacity(e).get(),t.cursor="pointer"):-1!==n.indexOf("highcharts-internal-node")?t.fill="none":e&&(t.fill=d(t.fill).brighten(i.brightness).get()),t},o.prototype.setColorRecursive=function(t,e,o,r,i){var n=this,s=n&&n.chart;if(s=s&&s.options&&s.options.colors,t){var a=b(t,{colors:s,index:r,mapOptionsToLevel:n.mapOptionsToLevel,parentColor:e,parentColorIndex:o,series:n,siblings:i});(e=n.points[t.i])&&(e.color=a.color,e.colorIndex=a.colorIndex),(t.children||[]).forEach((function(e,o){n.setColorRecursive(e,a.color,a.colorIndex,o,t.children.length)}))}},o.prototype.setPointValues=function(){var t=this,e=t.xAxis,o=t.yAxis,r=t.chart.styledMode;t.points.forEach((function(i){var n=i.node,s=n.pointValues;if(n=n.visible,s&&n){n=s.height;var a=s.width,l=s.x,p=s.y,c=r?0:(t.pointAttribs(i)["stroke-width"]||0)%2/2;s=Math.round(e.toPixels(l,!0))-c,a=Math.round(e.toPixels(l+a,!0))-c,l=Math.round(o.toPixels(p,!0))-c,n=Math.round(o.toPixels(p+n,!0))-c,n={x:Math.min(s,a),y:Math.min(l,n),width:Math.abs(a-s),height:Math.abs(n-l)},i.plotX=n.x+n.width/2,i.plotY=n.y+n.height/2,i.shapeArgs=n}else delete i.plotX,delete i.plotY}))},o.prototype.setRootNode=function(t,e,o){t=C({newRootId:t,previousRootId:this.rootNode,redraw:P(e,!0),series:this},o),A(this,"setRootNode",t,(function(t){var e=t.series;e.idPreviousRoot=t.previousRootId,e.rootNode=t.newRootId,e.isDirty=!0,t.redraw&&e.chart.redraw()}))},o.prototype.setState=function(t){this.options.inactiveOtherPoints=!0,h.prototype.setState.call(this,t,!1),this.options.inactiveOtherPoints=!1},o.prototype.setTreeValues=function(t){var e=this,o=e.options,r=e.nodeMap[e.rootNode];o=!a.isBoolean(o.levelIsConstant)||o.levelIsConstant;var i=0,n=[],s=e.points[t.i];t.children.forEach((function(t){t=e.setTreeValues(t),n.push(t),t.ignore||(i+=t.val)})),_(n,(function(t,e){return(t.sortIndex||0)-(e.sortIndex||0)}));var l=P(s&&s.options.value,i);return s&&(s.value=l),C(t,{children:n,childrenTotal:i,ignore:!(P(s&&s.visible,!0)&&0<l),isLeaf:t.visible&&!i,levelDynamic:t.level-(o?0:r.level),name:P(s&&s.name,""),sortIndex:P(s&&s.sortIndex,-l),val:l}),t},o.prototype.sliceAndDice=function(t,e){return this.algorithmFill(!0,t,e)},o.prototype.squarified=function(t,e){return this.algorithmLowAspectRatio(!0,t,e)},o.prototype.strip=function(t,e){return this.algorithmLowAspectRatio(!1,t,e)},o.prototype.stripes=function(t,e){return this.algorithmFill(!1,t,e)},o.prototype.translate=function(){var t=this,e=t.options,o=m(t);h.prototype.translate.call(t);var r=t.tree=t.getTree(),i=t.nodeMap[o];""===o||i&&i.children.length||(t.setRootNode("",!1),o=t.rootNode,i=t.nodeMap[o]),t.mapOptionsToLevel=g({from:i.level+1,levels:e.levels,to:r.height,defaults:{levelIsConstant:t.options.levelIsConstant,colorByPoint:e.colorByPoint}}),a.recursive(t.nodeMap[t.rootNode],(function(e){var o=!1,r=e.parent;return e.visible=!0,(r||""===r)&&(o=t.nodeMap[r]),o})),a.recursive(t.nodeMap[t.rootNode].children,(function(t){var e=!1;return t.forEach((function(t){t.visible=!0,t.children.length&&(e=(e||[]).concat(t.children))})),e})),t.setTreeValues(r),t.axisRatio=t.xAxis.len/t.yAxis.len,t.nodeMap[""].pointValues=o={x:0,y:0,width:a.AXIS_MAX,height:a.AXIS_MAX},t.nodeMap[""].values=o=B(o,{width:o.width*t.axisRatio,direction:"vertical"===e.layoutStartingDirection?0:1,val:r.val}),t.calculateChildrenAreas(r,o),t.colorAxis||e.colorByPoint||t.setColorRecursive(t.tree),e.allowTraversingTree&&(e=i.pointValues,t.xAxis.setExtremes(e.x,e.x+e.width,!1),t.yAxis.setExtremes(e.y,e.y+e.height,!1),t.xAxis.setScale(),t.yAxis.setScale()),t.setPointValues()},o.defaultOptions=B(y.defaultOptions,{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var t=this&&this.point?this.point:{};return O(t.name)?t.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:v?0:.1,halo:!1,opacity:.75,shadow:!1}}}),o}(y),C(l.prototype,{buildKDTree:t,colorKey:"colorValue",directTouch:!0,drawLegendSymbol:r.drawRectangle,getExtremesFromAll:!0,getSymbol:t,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:s,trackerGroups:["group","dataLabelsGroup"],utils:{recursive:a.recursive}}),i.registerSeriesType("treemap",l),l})),e(t,"masters/modules/treemap.src.js",[t["Core/Globals.js"],t["Extensions/Breadcrumbs.js"]],(function(t,e){t.Breadcrumbs=e}))},t.exports?(n.default=n,t.exports=n):(r=[o(8840)],void 0===(i=function(t){return n(t),n.Highcharts=t,n}.apply(e,r))||(t.exports=i))},8729:function(t,e,o){"use strict";o.d(e,{Z:function(){return p}});var r=o(7294),i=o(2477),n=o.n(i),s=o(9398),a=o(7625),l=o(5893);function p(t){var e=t.options,o=t.placeholder,i=t.setPickedOption,p=(0,r.useState)(!1),c=p[0],u=p[1];return(0,r.useEffect)((function(){if(c){var t=function(){return u(!1)};return c?document.addEventListener("click",t):document.removeEventListener("click",t),function(){return document.removeEventListener("click",t)}}}),[c]),(0,l.jsxs)("div",{className:n().wrapper,children:[(0,l.jsxs)("div",{onClick:function(){return u(!0)},className:n().option,children:[(0,l.jsx)("div",{className:n().placeholder,children:o}),(0,l.jsx)("div",{className:n().openIcon,children:(0,l.jsx)(a.G,{icon:s.eW2})})]}),c?(0,l.jsx)("div",{className:n().optionList,children:e.map((function(t){return(0,l.jsx)("div",{onClick:function(){i(t)},children:t},t)}))}):null]})}},666:function(t,e,o){"use strict";o.d(e,{Z:function(){return s}});var r=o(9397),i=o.n(r),n=o(5893);function s(){return(0,n.jsxs)("div",{className:i().ldsRing,children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})}},7373:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return x}});var r=o(5861),i=o(7757),n=o.n(i),s=o(8527),a=o.n(s),l=o(7294),p=o(8499),c=o(8840),u=o.n(c),d=o(7473),h=o.n(d),f=o(5708),v=o.n(f),y=o(9369),b=o(666),g=o(8729),m=o(5893);function x(){var t=(0,l.useContext)(y.N).state.darkMode,e=(0,l.useState)(null),o=e[0],i=e[1],s=(0,l.useState)("genus"),c=s[0],d=s[1];function f(){return(f=(0,r.Z)(n().mark((function e(){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.dE)(c);case 2:o=e.sent,i({chart:{type:"pie",backgroundColor:"transparent",borderColor:"transparent",zoomType:"x"},title:{text:""},subtitle:{text:"Click on pie slice to see virus-host interactions",style:{color:t?"#7f8994":"#818181"}},tooltip:{formatter:function(){return'<span style="color:'+this.point.color+'">\u25cf</span> <b>'+this.point.name+"</b><br>virus count: ".concat(this.point.y,' <b style="font-size: 13px"> (').concat(Math.round(100*this.point.percentage)/100," %) </b>")}},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){null!==this.taxon_id&&window.open("/search?type=host&taxon_id=".concat(this.taxon_id),"_blank")}}}},column:{borderRadius:0,pointPadding:-.12,groupPadding:.1,borderWidth:.7}},legend:{enabled:!1},series:[{dataLabels:{enabled:!0,color:t?"#7f8994":"#818181",style:{textOutline:!1}},backgroundColor:"transparent",borderColor:"transparent",type:"pie",data:o.map((function(t){return{name:t.name,y:t.count,taxon_id:t.taxon_id}}))}]});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){h()(u())}),[]),(0,l.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[c]),o?(0,m.jsxs)("div",{className:a().wrapper,children:[(0,m.jsx)("h4",{children:" Hosts with most interactions"}),(0,m.jsxs)("p",{children:["Proportion of viruses isolated on the top 15 most abundant host genera",(0,m.jsx)("br",{}),"(i.e. host genera infected by the highest number of viruses)."]}),(0,m.jsx)("div",{className:a().select,children:(0,m.jsx)(g.Z,{options:["genus","species","family","order","class","phylum"],placeholder:c,setPickedOption:d})}),(0,m.jsx)("div",{children:o?(0,m.jsx)(v(),{highcharts:u(),options:o}):(0,m.jsx)(b.Z,{})})]}):(0,m.jsx)(m.Fragment,{})}},2477:function(t){t.exports={wrapper:"Select_wrapper__3cUg2",active:"Select_active__1slHe",option:"Select_option__YEWoR",optionList:"Select_optionList__5uBa0",closeIcon:"Select_closeIcon__30eVR",openIcon:"Select_openIcon__YpEVd"}},9397:function(t){t.exports={ldsRing:"Spinner_ldsRing__2q7Ik"}},8527:function(t){t.exports={table:"Chart_table__3CBr0",wrapper:"Chart_wrapper__31Ki-",select:"Chart_select__1AE_X"}}}]);